{% extends 'base.html.twig' %}

{% block title %}Hello TomDevController!
{% endblock %}

{% block body %}
	<style>
		.example-wrapper {
			margin: 1em auto;
			max-width: 800px;
			width: 95%;
			font: 18px / 1.5 sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
	</style>


	<div class="container">
		<h1 class="mt-3">
			ENV.TEST VIA MON TOM DEV Controller
		</h1>

		<h2 class="mt-4">
			Test affichage fixture ci-dessous :
		</h2>

		<div class="d-flex flex-row-reverse justify-content-between">
			<div class="date-box text-white px-4 py-4 bg-secondary rounded text-center">

				{{ "now"|date("d/m Y") }}
			</div>
		</div>

		<hr class="my-4">

		{% for product in products %}
			<div class="row mt-4">
				<div class="col-md-4">
					{% if product.image %}
						<img class="my-2 mx-2" src="{{ product.image|imagine_filter('list_thumbnail') }}" alt="image de {{ product.name }}" class="img-fluid">
					{% else %}
						<p>No image available</p>
					{% endif %}
				</div>
				<div class="col-md-4">
					<h2>{{ product.name }}</h2>

					<p>Date d'achat:
						{{ product.purchaseDate|date('d-m-Y') }}</p>
					<p>Durée de la garantie:
						{{ product.warrantyDuration }}
						Ans
					</p>

					{% for receipt in product.receipts %}
						<a href="{{ asset(receipt.getImage()) }}" class="btn btn-primary">Voir le ticket de caisse</a>
					{% endfor %}
				</div>
				<div class="col-md-4 d-flex flex-row-reverse justify-content-between">
						<div class="date-box text-white px-4 py-4 bg-secondary rounded text-center">
							{{ product.expirationDate|date("d/m Y") }}
						</div>
					</div>
			</div>

			<hr class="my-4">
		{% endfor %}


		<div class="example-wrapper">
			<h1>Hello
				{{ controller_name }}! ✅</h1>

			This friendly message is coming from:
			<ul>
				<li>Your controller at
					<code>
						<a href="{{ 'C:/Users/Thomas/Desktop/WEBDEV/DonkeySchool/Decouverte_Symfony/WarrantEasy/src/Controller/TomDevController.php'|file_link(0) }}">src/Controller/TomDevController.php</a>
					</code>
				</li>
				<li>Your template at
					<code>
						<a href="{{ 'C:/Users/Thomas/Desktop/WEBDEV/DonkeySchool/Decouverte_Symfony/WarrantEasy/templates/tom_dev/index.html.twig'|file_link(0) }}">templates/tom_dev/index.html.twig</a>
					</code>
				</li>
			</ul>
		</div>
	{% endblock %}
